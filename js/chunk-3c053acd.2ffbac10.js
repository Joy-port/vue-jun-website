(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3c053acd"],{"0b42":function(e,t,n){var r=n("da84"),a=n("e8b5"),o=n("68ee"),c=n("861d"),s=n("b622"),i=s("species"),u=r.Array;e.exports=function(e){var t;return a(e)&&(t=e.constructor,o(t)&&(t===u||a(t.prototype))?t=void 0:c(t)&&(t=t[i],null===t&&(t=void 0))),void 0===t?u:t}},"0cb2":function(e,t,n){var r=n("e330"),a=n("7b0b"),o=Math.floor,c=r("".charAt),s=r("".replace),i=r("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,f,d){var v=n+e.length,p=r.length,g=l;return void 0!==f&&(f=a(f),g=u),s(d,g,(function(a,s){var u;switch(c(s,0)){case"$":return"$";case"&":return e;case"`":return i(t,0,n);case"'":return i(t,v);case"<":u=f[i(s,1,-1)];break;default:var l=+s;if(0===l)return a;if(l>p){var d=o(l/10);return 0===d?a:d<=p?void 0===r[d-1]?c(s,1):r[d-1]+c(s,1):a}u=r[l-1]}return void 0===u?"":u}))}},"107c":function(e,t,n){var r=n("d039"),a=n("da84"),o=a.RegExp;e.exports=r((function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},"14c3":function(e,t,n){var r=n("da84"),a=n("c65b"),o=n("825a"),c=n("1626"),s=n("c6b6"),i=n("9263"),u=r.TypeError;e.exports=function(e,t){var n=e.exec;if(c(n)){var r=a(n,e,t);return null!==r&&o(r),r}if("RegExp"===s(e))return a(i,e,t);throw u("RegExp#exec called on incompatible receiver")}},"1dde":function(e,t,n){var r=n("d039"),a=n("b622"),o=n("2d00"),c=a("species");e.exports=function(e){return o>=51||!r((function(){var t=[],n=t.constructor={};return n[c]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"294f":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),a={class:"login vh-100"},o={class:"login-block"},c={class:"login-form"},s=Object(r["g"])("h2",{class:"fs-3 mb-10 text-gray-800"},"歡迎登入",-1),i={class:"d-flex align-items-center gap-2 text-nowrap mb-3"},u=Object(r["g"])("label",{for:"username",class:""},"帳號",-1),l={class:"d-flex align-items-center gap-2 text-nowrap mb-10"},f=Object(r["g"])("label",{for:"password",class:""},"密碼",-1);function d(e,t,n,d,v,p){var g=Object(r["A"])("Alert");return Object(r["t"])(),Object(r["f"])("div",null,[Object(r["g"])("div",a,[Object(r["g"])("div",o,[Object(r["g"])("div",c,[s,v.alert.hide?Object(r["e"])("",!0):(Object(r["t"])(),Object(r["d"])(g,{key:0,title:v.alert.title,msg:v.alert.msg,status:v.alert.loginStatus,leave:v.alert.leave},null,8,["title","msg","status","leave"])),Object(r["g"])("form",{action:"/",method:"post",class:"text-center text-gray-800",onSubmit:t[3]||(t[3]=Object(r["I"])((function(){return p.getLoginData&&p.getLoginData.apply(p,arguments)}),["prevent"]))},[Object(r["g"])("div",i,[u,Object(r["H"])(Object(r["g"])("input",{type:"text",name:"username",id:"username",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=function(e){return v.user.username=e})},null,512),[[r["E"],v.user.username]])]),Object(r["g"])("div",l,[f,Object(r["H"])(Object(r["g"])("input",{type:"password",name:"password",id:"password",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=function(e){return v.user.password=e})},null,512),[[r["E"],v.user.password]])]),Object(r["g"])("button",{type:"button",class:"btn btn-outline-primary",onClick:t[2]||(t[2]=Object(r["I"])((function(){return p.getLoginData&&p.getLoginData.apply(p,arguments)}),["prevent"]))}," 登入 ")],32)])])])])}n("99af"),n("ac1f"),n("5319");var v=n("98ab"),p={name:"Login",components:{Alert:v["a"]},data:function(){return{user:{username:"",password:""},url:"https://vue3-course-api.hexschool.io/v2",path:"joy-hex",alert:{loginStatus:null,leave:!1,hide:!1,msg:"",title:""}}},methods:{alertMsgLeave:function(e){var t=this;setTimeout((function(){t.alert.leave=!0}),e)},getLoginData:function(){var e=this,t=this.user,n=this.url;this.axios.post("".concat(n,"/admin/signin"),t).then((function(t){t.data.success?(e.alert.loginStatus=!0,e.alert.title="登入成功",e.saveToken(t.data),e.$router.push("/dashboard")):(e.alert.loginStatus=!1,e.alert.title="登入失敗",console.error(t.status))})).catch((function(t){e.alert.loginStatus=!1,e.alert.title="登入失敗",e.alert.msg="帳號或密碼錯誤，請重新填寫",console.dir(t)})).then((function(){setTimeout((function(){e.alert.leave=!0,e.user.username="",e.user.password=""}),1e3)}))},saveToken:function(e){var t=e.token,n=e.expired,r=this.path;document.cookie="hexToken=".concat(t,"; expires=").concat(new Date(n)),document.cookie="apiPath=".concat(r,"; expires=").concat(new Date(n))},getTokenData:function(){var e=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.axios.defaults.headers.common.Authorization=e},logoutCheck:function(){var e=this,t=this.url;this.getLoginData(),this.axios.post("".concat(t,"/api/user/check")).then((function(t){e.alert.loginStatus=!1,e.alert.title="請重新登出",e.saveToken(t.data),e.$router.push("/dashboard")})).then((function(){e.alertMsgLeave(3e3)})).catch((function(t){e.alert.loginStatus=!0,e.alert.title="成功登出",e.alert.msg=t.response.message,e.alertMsgLeave(500)}))}},mounted:function(){this.logoutCheck()},watch:{"alert.leave":{handler:function(e,t){var n=this;e&&setTimeout((function(){n.alert.hide=!0}),500)},deep:!0}}},g=n("6b0d"),b=n.n(g);const h=b()(p,[["render",d]]);t["default"]=h},"3fc5":function(e,t,n){"use strict";n("6f2e")},5319:function(e,t,n){"use strict";var r=n("2ba4"),a=n("c65b"),o=n("e330"),c=n("d784"),s=n("d039"),i=n("825a"),u=n("1626"),l=n("5926"),f=n("50c4"),d=n("577e"),v=n("1d80"),p=n("8aa5"),g=n("dc4a"),b=n("0cb2"),h=n("14c3"),x=n("b622"),m=x("replace"),O=Math.max,j=Math.min,y=o([].concat),w=o([].push),k=o("".indexOf),I=o("".slice),E=function(e){return void 0===e?e:String(e)},$=function(){return"$0"==="a".replace(/./,"$0")}(),A=function(){return!!/./[m]&&""===/./[m]("a","$0")}(),S=!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));c("replace",(function(e,t,n){var o=A?"$":"$0";return[function(e,n){var r=v(this),o=void 0==e?void 0:g(e,m);return o?a(o,e,r,n):a(t,d(r),e,n)},function(e,a){var c=i(this),s=d(e);if("string"==typeof a&&-1===k(a,o)&&-1===k(a,"$<")){var v=n(t,c,s,a);if(v.done)return v.value}var g=u(a);g||(a=d(a));var x=c.global;if(x){var m=c.unicode;c.lastIndex=0}var $=[];while(1){var A=h(c,s);if(null===A)break;if(w($,A),!x)break;var S=d(A[0]);""===S&&(c.lastIndex=p(s,f(c.lastIndex),m))}for(var R="",T=0,D=0;D<$.length;D++){A=$[D];for(var C=d(A[0]),L=O(j(l(A.index),s.length),0),M=[],U=1;U<A.length;U++)w(M,E(A[U]));var _=A.groups;if(g){var B=y([C],M,L,s);void 0!==_&&w(B,_);var K=d(r(a,void 0,B))}else K=b(C,s,L,M,_,a);L>=T&&(R+=I(s,T,L)+K,T=L+C.length)}return R+I(s,T)}]}),!S||!$||A)},"65f0":function(e,t,n){var r=n("0b42");e.exports=function(e,t){return new(r(e))(0===t?0:t)}},"6f2e":function(e,t,n){},8418:function(e,t,n){"use strict";var r=n("a04b"),a=n("9bf2"),o=n("5c6c");e.exports=function(e,t,n){var c=r(t);c in e?a.f(e,c,o(0,n)):e[c]=n}},"8aa5":function(e,t,n){"use strict";var r=n("6547").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},9263:function(e,t,n){"use strict";var r=n("c65b"),a=n("e330"),o=n("577e"),c=n("ad6d"),s=n("9f7f"),i=n("5692"),u=n("7c73"),l=n("69f3").get,f=n("fce3"),d=n("107c"),v=i("native-string-replace",String.prototype.replace),p=RegExp.prototype.exec,g=p,b=a("".charAt),h=a("".indexOf),x=a("".replace),m=a("".slice),O=function(){var e=/a/,t=/b*/g;return r(p,e,"a"),r(p,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),j=s.BROKEN_CARET,y=void 0!==/()??/.exec("")[1],w=O||y||j||f||d;w&&(g=function(e){var t,n,a,s,i,f,d,w=this,k=l(w),I=o(e),E=k.raw;if(E)return E.lastIndex=w.lastIndex,t=r(g,E,I),w.lastIndex=E.lastIndex,t;var $=k.groups,A=j&&w.sticky,S=r(c,w),R=w.source,T=0,D=I;if(A&&(S=x(S,"y",""),-1===h(S,"g")&&(S+="g"),D=m(I,w.lastIndex),w.lastIndex>0&&(!w.multiline||w.multiline&&"\n"!==b(I,w.lastIndex-1))&&(R="(?: "+R+")",D=" "+D,T++),n=new RegExp("^(?:"+R+")",S)),y&&(n=new RegExp("^"+R+"$(?!\\s)",S)),O&&(a=w.lastIndex),s=r(p,A?n:w,D),A?s?(s.input=m(s.input,T),s[0]=m(s[0],T),s.index=w.lastIndex,w.lastIndex+=s[0].length):w.lastIndex=0:O&&s&&(w.lastIndex=w.global?s.index+s[0].length:a),y&&s&&s.length>1&&r(v,s[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(s[i]=void 0)})),s&&$)for(s.groups=f=u(null),i=0;i<$.length;i++)d=$[i],f[d[0]]=s[d[1]];return s}),e.exports=g},"98ab":function(e,t,n){"use strict";var r=n("7a23"),a={class:"mb-2"},o={key:0,class:"mb-0"};function c(e,t,n,c,s,i){return Object(r["t"])(),Object(r["f"])("div",null,[Object(r["g"])("div",{class:Object(r["p"])(["alert",{"alert-success show":!0===n.status,"alert-danger show":!1===n.status,hide:!0===n.leave}]),role:"alert"},[Object(r["g"])("strong",a,Object(r["C"])(n.title),1),n.msg?(Object(r["t"])(),Object(r["f"])("p",o,Object(r["C"])(n.msg),1)):Object(r["e"])("",!0)],2)])}var s={name:"Alert",props:["title","msg","status","leave"],data:function(){return{alertStatus:this.status}}},i=(n("3fc5"),n("6b0d")),u=n.n(i);const l=u()(s,[["render",c]]);t["a"]=l},"99af":function(e,t,n){"use strict";var r=n("23e7"),a=n("da84"),o=n("d039"),c=n("e8b5"),s=n("861d"),i=n("7b0b"),u=n("07fa"),l=n("8418"),f=n("65f0"),d=n("1dde"),v=n("b622"),p=n("2d00"),g=v("isConcatSpreadable"),b=9007199254740991,h="Maximum allowed index exceeded",x=a.TypeError,m=p>=51||!o((function(){var e=[];return e[g]=!1,e.concat()[0]!==e})),O=d("concat"),j=function(e){if(!s(e))return!1;var t=e[g];return void 0!==t?!!t:c(e)},y=!m||!O;r({target:"Array",proto:!0,forced:y},{concat:function(e){var t,n,r,a,o,c=i(this),s=f(c,0),d=0;for(t=-1,r=arguments.length;t<r;t++)if(o=-1===t?c:arguments[t],j(o)){if(a=u(o),d+a>b)throw x(h);for(n=0;n<a;n++,d++)n in o&&l(s,d,o[n])}else{if(d>=b)throw x(h);l(s,d++,o)}return s.length=d,s}})},"9f7f":function(e,t,n){var r=n("d039"),a=n("da84"),o=a.RegExp,c=r((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),s=c||r((function(){return!o("a","y").sticky})),i=c||r((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:i,MISSED_STICKY:s,UNSUPPORTED_Y:c}},ac1f:function(e,t,n){"use strict";var r=n("23e7"),a=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},ad6d:function(e,t,n){"use strict";var r=n("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},d784:function(e,t,n){"use strict";n("ac1f");var r=n("e330"),a=n("6eeb"),o=n("9263"),c=n("d039"),s=n("b622"),i=n("9112"),u=s("species"),l=RegExp.prototype;e.exports=function(e,t,n,f){var d=s(e),v=!c((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),p=v&&!c((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[u]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return t=!0,null},n[d](""),!t}));if(!v||!p||n){var g=r(/./[d]),b=t(d,""[e],(function(e,t,n,a,c){var s=r(e),i=t.exec;return i===o||i===l.exec?v&&!c?{done:!0,value:g(t,n,a)}:{done:!0,value:s(n,t,a)}:{done:!1}}));a(String.prototype,e,b[0]),a(l,d,b[1])}f&&i(l[d],"sham",!0)}},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},fce3:function(e,t,n){var r=n("d039"),a=n("da84"),o=a.RegExp;e.exports=r((function(){var e=o(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))}}]);
//# sourceMappingURL=chunk-3c053acd.2ffbac10.js.map